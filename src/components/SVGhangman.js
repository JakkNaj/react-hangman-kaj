import React, { useState, useEffect } from "react";
import './SVGhangman.css';

const SVGHangman = ({ numberOfIncorrectGuesses }) => {
    const svgPaths = [
        "m 138.41068,171.94684 -18.99609,-31.85743 -0.004,0.41211 c -4.18956,-5.58609 -8.99726,-8.49278 -15.5625,-10.8125 -11.54196,-3.17718 -22.95679,-1.61109 -33.4375,3.8125 -8.77532,6.31823 -15.40966,14.37149 -18,25 -1.22075,12.37122 0.42017,22.28612 7,33.00002 6.07899,6.8807 13.00293,12.4231 22.24219,13.5937 l 3.75781,0.4063 c -14.3147,21.0302 -25.94111,43.9941 -32.12109,68.7363 -3.92833,16.5189 -9.39976,42.2927 -0.10156,57.6231 3.19914,4.2927 7.86403,6.346 13.0039,7.4531 5.23065,0.442 10.32858,-0.5039 14.65625,-3.5 4.32803,-6.4055 4.85414,-11.2495 4.72852,-18.8906 -0.519,-17.783 1.48503,-33.8059 8.16406,-50.3809 l 0.81054,-1.9863 c 0.95041,-2.3527 1.90292,-4.7045 2.85938,-7.0547 0.68837,48.5682 1.96376,96.8483 -5.27344,145 -1.14435,7.4682 -2.08805,14.9163 -2.73828,22.4453 l -0.27734,3.4297 c -0.65831,7.7058 -1.21684,15.4804 0.28906,23.125 2.33781,4.6336 6.1459,7.382 11,9 7.47027,0.5787 12.44373,0.3602 18.5,-4.3555 4.46847,-4.899 4.94258,-10.0277 5.37695,-16.375 0.57796,-10.1842 1.55732,-20.1854 3.12305,-30.2695 0.29617,4.7286 0.60051,9.4565 0.91992,14.1836 0.13199,1.9387 0.26283,3.8775 0.39258,5.8164 0.17716,2.8427 0.35431,5.6858 0.54883,8.5273 l 0.18945,2.7227 c 0.38066,6.4954 1.26569,11.7795 3.94922,17.75 3.10759,3.4035 5.92452,5.2199 10.3125,6.4375 6.10026,1.0801 11.29268,0.02 16.5625,-3.1875 3.28646,-3.4798 4.97405,-6.7464 5.45703,-11.5371 l -0.0762,-3.5567 c -0.12251,-6.7753 -0.51463,-13.534 -1.01758,-20.291 -0.16936,-2.2212 -0.33904,-4.4422 -0.5,-6.664 -0.46439,-6.5024 -0.93249,-13.0052 -1.41992,-19.5059 -1.30745,-17.3779 -2.52538,-34.7053 -2.53906,-52.1406 l 0.002,-2.1875 c -4.4e-4,-4.7904 -0.0359,-9.5829 0.21875,-14.3672 0.84918,-3.2425 1.13896,-6.2093 1.1875,-9.5742 l 0.0176,-2.2246 c 0.0314,-2.4803 0.0618,-4.9592 0.0859,-7.4395 0.017,-1.7718 0.0362,-3.5446 0.0566,-5.3164 0.0556,-4.6424 0.10658,-9.2852 0.1543,-13.9277 0.0494,-4.8113 0.10302,-9.6224 0.1582,-14.4336 0.10764,-9.3582 0.21087,-18.716 0.30859,-28.0743 l 0.0312,-3.0097 0.83594,2.6953 1.09375,3.5391 c 1.33257,4.3057 2.6532,8.5911 3.64062,12.9902 l 0.42969,2.0879 c 2.8562,17.5866 2.85669,17.5865 4.36914,35.3554 l 0.23633,2.6836 c 0.15531,1.7047 0.31027,3.4086 0.46484,5.1133 0.39273,4.787 0.76082,9.1723 2.92969,13.5352 3.54743,5.2168 6.79375,7.6538 13,9 6.92211,0.6675 11.48401,-0.7481 17,-5 4.35947,-5.8126 4.35941,-5.813 1.94727,-31.3242 l -0.19727,-2.0508 c -1.85398,-19.5498 -4.88809,-38.8362 -10.75,-57.625 -6.94863,-21.1427 -21.2782,-47.7518 -42,-58.375 -8.55746,-3.68 -8.55748,-3.68 -17,-7.625 z",
        "m 124.4363,200.8804 c 0.003,1.0014 0.003,1.0013 0.005,1.9828 h 9.3e-4 c -0.002,3.7529 0.86319,5.562 3.34143,8.0055 2.12979,1.3843 4.07039,1.8992 6.4793,1.3764 3.24496,-1.0966 4.20719,-2.6127 5.97134,-6.203 v -20.37883 h 0.18283 v -9.65524 h -0.18283 l 0.18283,-18.28606 v -54.29892 c -0.0627,0.0625 -0.12082,0.12373 -0.18374,0.18644 V 38.182584 h 0.18374 v -18.70697 c -4.93525,-0.0245 -9.8706,-0.0247 -14.80585,-0.0544 -0.35898,-0.002 -0.70715,-0.005 -1.05557,-0.006 -0.0206,23.18308 -0.0373,46.36647 -0.0468,69.54956 -0.001,2.79372 -0.002,5.58681 -0.004,8.38052 -4.6e-4,0.85221 -4.6e-4,0.85208 -9.2e-4,1.68741 -0.004,9.037246 -0.0105,18.074516 -0.0189,27.111756 -0.009,9.30228 -0.0153,18.60447 -0.0171,27.90676 -9.2e-4,5.73375 -0.003,11.4682 -0.0108,17.20197 -0.005,3.96577 -0.008,7.93108 -0.007,11.89678 9.3e-4,2.28842 0.002,4.57752 -0.002,6.86593 -0.005,2.12303 -0.008,4.24537 -0.006,6.36839 9.2e-4,0.77162 0.001,1.54316 0.002,2.31478 -0.003,0.72723 -0.005,1.45463 -0.008,2.18183 z",
        "m 49.78873,0.31811353 c -1.86725,0.006 -1.86699,0.006 -3.69727,0.0117 v 0.002 c -6.99797,-0.005 -10.37134,1.87187997 -14.92773,7.24609997 -2.5813,4.6185905 -3.5414,8.8269105 -2.56641,14.0507805 2.04479,7.03689 4.87184,9.12356 11.56641,12.94922 h 38 l -0.004,0.39648 h 18.00391 v -0.39648 l 34.09766,0.39648 h 101.25 c -0.11662,-0.1359 -0.23072,-0.26201 -0.34766,-0.39844 h 122.00009 v 0.39844 h 34.88671 c 0.0457,-10.70239 0.046,-21.40501 0.10157,-32.1074205 0.004,-0.77846 0.008,-1.5335 0.0117,-2.28905997 -43.22897,-0.0447 -86.45851,-0.0809 -129.6875,-0.10157 -5.20937,-0.003 -10.41759,-0.005 -15.62695,-0.008 -1.58911,-0.001 -1.58886,-0.001 -3.14649,-0.002 -16.85155,-0.008 -33.70314,-0.0227 -50.55469,-0.041 -17.34575,-0.0189 -34.69133,-0.0331 -52.03711,-0.0371 -10.69165,-0.002 -21.38451,-0.007 -32.07617,-0.0234 -7.39477,-0.0115 -14.78881,-0.0166 -22.18359,-0.0156 -4.26719,0.002 -8.53557,0.005 -12.80274,-0.004 -3.95873,-0.01 -7.91625,-0.0177 -11.875,-0.0137 -1.43888,0.002 -2.87752,0.003 -4.3164,0.004 -1.35596,-0.006 -2.7124,-0.0116 -4.06836,-0.0176 z",
        "m 248.87788,12.743664 c -0.93623,-0.89396 -0.9361,-0.89384 -1.85373,-1.77021 l -6.3e-4,0.002 c -3.49823,-3.3675905 -5.90474,-3.8117205 -10.24325,-2.6301305 -3.06106,1.6570305 -5.15402,3.8360605 -6.66831,7.5826605 -1.67401,5.39857 -1.05969,8.06709 0.8226,13.68619 l 19.00627,18.26951 -0.15394,0.24685 9.00493,8.65586 0.15194,-0.24878 16.90252,16.64213 50.64173,48.678596 c -0.007,-0.14134 -0.015,-0.27532 -0.0212,-0.41716 l 61.0202,58.65475 -0.1527,0.25003 17.44912,16.77274 c 4.12433,-6.69355 8.22605,-13.40908 12.35532,-20.09787 0.30032,-0.48654 0.59168,-0.95839 0.88308,-1.43071 -21.60449,-20.81152 -43.21253,-41.61796 -64.82624,-62.41441 -2.6044,-2.50643 -5.20861,-5.01167 -7.81299,-7.51809 -0.79443,-0.76463 -0.79431,-0.76451 -1.573,-1.51401 -8.42549,-8.106846 -16.84844,-16.217916 -25.26998,-24.331226 -8.6685,-8.35128 -17.33871,-16.69954 -26.01293,-25.04149 -5.34683,-5.14154 -10.69311,-10.28555 -16.03442,-15.43614 -3.69419,-3.56245 -7.39049,-7.12053 -11.08948,-10.67514 -2.13506,-2.05031 -4.27111,-4.10055 -6.40196,-6.15775 -1.97618,-1.90955 -3.95263,-3.81707 -5.9342,-5.71782 -0.72045,-0.69053 -1.44039,-1.38157 -2.16045,-2.07271 -0.6759,-0.65568 -1.3522,-1.31135 -2.0281,-1.96702 z",
        "M 385.48633,0.234375 V 290.16797 c 0.0737,7.97039 0.12732,15.93926 0.11523,23.91015 -0.009,3.06908 0.002,6.13806 0.0137,9.20704 15.29203,-0.006 26.13682,-0.0207 33.53516,-0.043 10e-4,-1.68211 0.03,-3.36401 0.0215,-5.04688 -0.0413,-7.57109 -0.0387,-15.13994 0.0254,-22.71093 0.0999,-10.99579 0.1379,-21.99004 0.1289,-32.98633 -0.0171,-17.86259 0.0228,-35.72366 0.12305,-53.58594 0.0987,-17.36946 0.17616,-34.73965 0.19726,-52.10938 0.002,-1.10956 0.003,-2.18673 0.004,-3.26367 0.006,-5.41017 0.0126,-10.82027 0.0176,-16.23047 0.0408,-44.919567 0.18852,-89.838833 0.42187,-134.7578088 0.004,-0.7784592 0.008,-1.5335032 0.0117,-2.28906245 -11.53835,-0.0119 -23.07688,-0.0169438 -34.61523,-0.0273438 z",
        "m 419.15039,323.24219 c -7.39834,0.0223 -18.24313,0.0371 -33.53516,0.043 0.005,1.30988 -0.0104,2.61982 0.006,3.92968 0.0598,3.8256 -0.0447,7.35373 -0.13476,10.91993 v 162.70117 c 0.41293,1.6045 1.10656,3.13548 2.30273,4.86328 3.41449,3.78359 5.97636,6.30881 11.22656,6.8789 6.56411,0.1198 10.47558,-0.21541 15.64844,-4.3789 5.06419,-6.103 5.77962,-12.99663 5.92969,-20.73242 0.007,-1.1015 0.0135,-2.17114 0.0195,-3.24024 0.0557,-3.47779 0.10888,-6.95549 0.14258,-10.43359 0.0228,-2.4121 0.0509,-4.82423 0.084,-7.23633 0.096,-6.47309 0.17994,-12.94643 0.24414,-19.41992 0.006,-0.6377 0.0116,-1.2561 0.0176,-1.875 2.2435,4.46659 4.48334,8.93304 6.66211,13.43164 3.47088,7.28789 6.97632,14.55971 10.51172,21.81641 0.6095,1.25059 1.21787,2.50085 1.82617,3.75195 1.6102,3.3409 3.2245,6.6788 4.875,10 0.51,1.0202 1.0049,2.0097 1.5,3 1.2869,2.6899 2.60379,5.31409 4.08789,7.90039 3.2206,4.40079 7.29356,6.71855 12.61914,7.62305 0.9284,-0.05 1.82947,-0.099 2.73047,-0.14844 2.7695,-0.1016 2.7695,-0.1016 5.1875,-0.375 5.2839,-1.7613 8.64046,-5.01009 11.28125,-9.92969 2.0891,-6.017491.10693,-12.18903 -1.59765,-17.79883 -0.864,-1.7098 -1.7265,-3.41986 -2.58789,-5.13086 -0.32479,-0.6452 -0.63988,-1.27223 -0.95508,-1.89843 -4.7994,-9.50809 -9.59983,-19.01399 -14.16211,-28.63868 -5.9284,-12.55368 -12.12566,-24.96614 -18.37696,-37.36132 -0.75968,-1.5038 -1.51513,-3.00913 -2.26953,-4.51563 -2.30918,-4.75809 -4.62992,-9.48305 -7.23242,-14.08984 -11.86502,-20.72928 -16.4714,-37.81463 -16.08398,-61.65821 0.046,-2.66662 0.0309,-5.33232 0.0332,-7.99804 z",
    ];

    const [currentPaths, setCurrentPaths] = useState([]);

    useEffect(() => {
        setCurrentPaths(svgPaths.slice(svgPaths.length - numberOfIncorrectGuesses, svgPaths.length));
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [numberOfIncorrectGuesses, svgPaths]);

    const determineSwingEffect = (index) => {
        if (currentPaths.length === svgPaths.length) {
            if (index === 0)
                return 'swing-body';
            else if (index === 1)
                return 'swing-rope';
        }
        return '';
    }

    return (
            <svg className="svg-part" version="1.1" width="512" height="512" id="svg1" xmlns="http://www.w3.org/2000/svg">
                <defs id="defs1" />
                {currentPaths.map((path, index) => (
                    <path key={index} id={`path${index}`} d={path} className={determineSwingEffect(index)} />
                ))}
            </svg>

    )
}

export default SVGHangman;